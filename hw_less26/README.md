## домашнее задание 
Простая защита от DDOS  
Написать конфигурацию ngnx, которая даёт доступ клиенту только с определенной cookie.  
Если у клиента её нет, нужно выполнить редирект на location, в котором кука будет добавлена, после чего клиент будет обратно отправлен (редирект) на запрашиваемый ресурс.  
## Решение
vagrant up  -- разварачиваем centos8, обновляем, ставим nginx,копируем конфиг файлы

http://192.168.11.101  
конфиг с коментами:

```nginx.conf
# проверяем наличие куки в хедере
    location / {
# если кука имеет не праивльное значение , то запоминаем в заголовке изначальный запрос и редиректим в /setcook, в которой описываем нужное значение и ридеректим обратно
	if ($cookie_nobot != "nobot") {
			add_header "set-cookie" "sourcequ=$request_uri" ;
			return 302 /setcook ;
		}
# если кука с правильным значением , то ничего не делаем, выполянем запрос
	if ($cookie_nobot = "nobot") {
;
	}

# устанавливаем куку и возвращаеся по изначальному запросу, который был сохраненён в заголовке
        location /setcook {
		add_header "set-Cookie" "nobot=nobot" ;
		return 302 $cookie_sourcequ ;
		}
	}
```
[nginx.conf](provision/roles/nginx/files)













